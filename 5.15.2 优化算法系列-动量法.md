# 动量法
## 动量法概述
1. 动量方法主要是为了解决Hessian矩阵病态条件问题（直观上讲就是梯度高度敏感于参数空间的某些方向）的。
2. 加速学习
3. 通过速度v，来积累了之间梯度指数级衰减的平均，并且继续延该方向移动，动量法最核心的也就是下面这个式子： ![image](https://raw.githubusercontent.com/zhiyuanz-hub/public-picture/master/5-1.png)

## 算法概述

![image](https://raw.githubusercontent.com/zhiyuanz-hub/public-picture/master/5-2.jpg)

## 动量算法直观效果解释
以一个图进行直观的展示，红色为SGD+动量。黑色为SGD。可以看到黑色为典型Hessian矩阵病态的情况，相当于大幅度的徘徊着向最低点前进。

![image](https://raw.githubusercontent.com/zhiyuanz-hub/public-picture/master/5-3.png)

而由于动量积攒了历史的梯度，如点P前一刻的梯度与当前的梯度方向几乎相反。因此原本在P点原本要大幅徘徊的梯度，主要受到前一时刻的影响，而导致在当前时刻的梯度幅度减小。

直观上讲就是，要是当前时刻的梯度与历史时刻梯度方向相似，这种趋势在当前时刻则会加强；要是不同，则当前时刻的梯度方向减弱。 

## 另一个角度解释
要是当前时刻的梯度与历史时刻梯度方向相似，这种趋势在当前时刻则会加强；要是不同，则当前时刻的梯度方向减弱。

假设每个时刻的梯度g总是类似，那么由 ![image](https://raw.githubusercontent.com/zhiyuanz-hub/public-picture/master/5-1.png) ，我们可以直观的看到每次的步长为： ![image](https://raw.githubusercontent.com/zhiyuanz-hub/public-picture/master/5-4.jpg)

即使将参数设为0.5,0.9，或者0.99，也表示最大速度2倍，10倍，100倍于SGD的算法，加速相当可观。
